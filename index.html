<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Simple Audio Captcha Demo</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.12.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.12.0/addons/p5.sound.min.js"></script>
</head>
<body>
  <h2>Simple Audio Captcha Demo</h2>
  <button id="playBtn">Play Captcha Audio</button>

  <script>
    let soundFile;

    function preload() {
      soundFormats('wav');
      soundFile = loadSound('three.wav', 
        () => console.log('✅ Audio loaded'), 
        () => console.error('❌ Failed to load audio'));
    }

    function setup() {
      noCanvas();
      const btn = document.getElementById('playBtn');
      btn.addEventListener('click', () => {
        userStartAudio();  // wajib agar audio bisa diputar di browser modern
        if (soundFile && soundFile.isLoaded()) {
          soundFile.play();
          console.log('▶️ Playing audio...');
        } else {
          console.log('⏳ Audio not ready yet');
        }
      });
    }
  </script>
</body>
</html>
